# 集成设备的离线消息

该文章描述如何创建离线消息集成通道，以导入第三方系统中的历史数据，以便在EnOS上集中进行数据的策略性处理、存储和计算。

## 任务描述

为了让第三方系统的数据能够接入EnOS，需要创建面向第三方系统的离线消息集成通道。数据通过离线消息通道集成到EnOS之后，可以被应用程序通过EnOS API调用，也可以依照用户订阅的情况，根据一定规则分发到离线数据的Kafka topics,供EnOS数据资产管理的各个功能订阅取用。

## 开始前准备

- 该设备所属的产品已经被创建。有关如何创建，参见[创建产品](creating_product)。
- 你需要有设备管理操作权限，如果没有请联系组织管理员添加，参见[策略，角色，与权限](/docs/iam/zh_CN/latest/access_policy)。

## 步骤

1. 选择**设备管理 > 消息集成**；

2. 选择**新建消息**；

3. 在**新建消息通道**弹窗中，填入下列信息：

  .. csv-table::
     :widths: auto

     "字段", "说明"
     "集成模式", "必填。从第三方系统集成的数据类型，目前支持离线消息。"
     "通道名称", "必填。支持中文、大小写字母、数字和下划线（_），长度为4至32个字符。通道名称在本OU必须唯一。"
     "消息来源", "必填。第三方离线消息集成使用的协议。目前支持MQTT。"
     "目标产品", "必填。该离线消息通道集成的数据所属的产品。每个产品仅支持一条离线消息集成通道。"
     "数据格式", "必填。第三方离线消息的格式，目标产品确定，无需用户选择，支持JSON和透传两种格式。"
     "描述", "选填。支持中文、大小写字母、数字、下划线（_），最长不超过100个字符。"

4. 选择**确认**，完成通道创建。

## 结果

在**设备管理 > 消息集成**，可以查看创建成功的离线消息通道。




