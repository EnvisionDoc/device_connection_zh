# 创建解析数据脚本

当创建产品时，**数据格式** 选择为 **透传模式** 时，设备可发送任意格式数据（例如：二进制数据）至EnOS Cloud。此时，你需要创建一个数据解析脚本用以编解码上下行的数据。 本文章描述了如何在EnOS Cloud上编辑和调试该脚本并上传到EnOS运行环境中。

## 操作步骤

1. 在EnOS控制台中选择 **设备管理 > 产品管理**。

2. 点击需要关联解析数据脚本的产品后的 **查看**，选择 **数据解析** 标签。

3. 在 **编辑脚本** 中，输入脚本代码。目前支持JavaScript。

4. 点击页面底部的 **保存草稿**，系统将保存本次编辑的结果。你再次进入平台时，该界面将提示最近一次保存的草稿，您可以选择恢复编辑或删除草稿。

   - 草稿不会进入到脚本解析的运行环境中，保存草稿不会影响已经提交的正式脚本；
   - 每次保存草稿将覆盖上一次保存的草稿。

5. 在 **模拟输入** 中，输入模拟数据，并可选定模拟类型为 **设备上发数据** 或 **设备接收数据**。

   - **设备上发数据**：在对话框中填入透传二进制数据，单击 **运行** 后会将二进制透传数据按照脚本规则转换为JSON格式数据，您可以在 **运行结果** 区域看到透传数据的解析结果。
   - **设备接收数据**：在对话框中填入JSON格式数据，单击运行，会将JSON数据按照脚本规则转换为二进制数据，您可以在 **运行结果** 区域看到解析后的数据。

6. 点击 **运行** 对脚本进行测试后，可在 **运行结果** 中查看结果。如果脚本存在错误，将提示运行不通过。

7. 确定脚本运行正常后，点击 **提交** 来提交脚本到运行环境。

## 结果<result>

EnOS和设备进行上下行数据传输时将自动调用脚本，实现数据的解析和转换。
