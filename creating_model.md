# 创建模型

本章节阐述了如何创建物模型

## 第一步：创建模型

1. 在EnOS控制台中选择 **接入管理>模型管理**。
2. 点击在页面右上方 **创建模型**，在**创建模型**页面提供以下配置。
  - **模型标识符**：
  - **模型名称**: 模板名称，不可重复。支持中文、英文字母、数字和下划线。
  - **分类**：添加自定义分类。在信息窗口，可通过分类对模型进行筛选。
    <!--"在信息窗口，可通过分类对模型进行筛选。"是什么意思？-->
  - **模型关系**：
    - 无：暂不配置具体属性。可在模板创建完毕或者创建产品时再定义要素。
    - 拷贝：复制源模型上的所有信息。和源模型 **无** 关联。
    - 继承：复制源模型上的所有信息，和源模型关联。    
      + 子模型继承父模型的所有元素，子模板不可修改父模板中的元素
      + 子模型可以在父模型基础上增加新的元素，但不可以与父模型重名。
      + 子模型可以再被继承，支持多层的继承关系
      + 父模型中元素的改动会关联到子模版中
  - **模型模板**：选择拷贝的模板或者继承的父模板
  - **模型描述**: 对模型的详细描述
3. 点击**确定**完成操作。

## 第二步：为模型定义要素

1. 点击需要定义要素的模型的所对应的**查看**。
2. 点击**功能定义**，并点击**新增**，根据产品属性设置以下四要素。

### 设置属性
属性页面中的配置信息如下：
<table>
  <tr>
    <th>参数</th>
    <th>描述</th>
    <th>数据类型</th>
  </tr>
  <tr>
    <td>功能类型</td>
    <td>属性</td>
    <td>-</td>
  </tr>
  <tr>
    <td>功能名称</td>
    <td>同一产品下的属性名称。</td>
    <td>支持中文、英文字母、数字和下划线</td>
  </tr>
  <tr>
    <td>标识符</td>
    <td>属性唯一标识符，在产品中具有唯一性。</td>
    <td>支持英文字母、数字、中划线下划线</td>
  </tr>
  <tr>
    <td>数据类型</td>
    <td>可选的数据类型
</td>
<td>
数据类型支持：Int32、float、double、enum、bool、text、date、struct、array
</td>
  </tr>
  <tr>
    <td>默认值</td>
    <td></td>
    <td>-</td>  
  </tr>
  <tr>
    <td>是否必填
    </td>
    <td>代表实例化该模型的时候，是否必须填写该属性。</td>
    <td>-</td>
  </tr>
  <tr>
    <td>读写类型</td>
    <td>如果是只读，那么意味着服务端属性设置接口针对于此属性是不可用状态，发生调用时会返回对应的错误码。</td>
    <td>-</td>
  </tr>
  <tr>
    <td>描述</td>
    <td>产品的详细描述</td>
    <td>-</td>
  </tr>
</table>

### 设置测点
测点页面中的配置信息如下：
<table>
  <tr>
    <th>参数</th>
    <th>描述</th>
    <th>数据类型</th>
  </tr>
  <tr>
    <td>功能类型</td>
    <td>测点</td>
    <td>-</td>
  </tr>
  <tr>
    <td>功能名称</td>
    <td></td>
    <td>支持中文、英文字母、数字和下划线</td>
  </tr>
  <tr>
    <td>标识符</td>
    <td>属性唯一标识符，在产品中具有唯一性。</td>
    <td>支持英文字母、数字、中划线下划线</td>
  </tr>
  <tr>
    <td>数据类型</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>测点类型</td>
    <td>测点的标签是对测点本身进行描述，如测点的类型、单位等，包括固定标签和自定义标签</td>
    <td>标签为KV格式，由key和value组成。</td>
  </tr>
  <tr>
    <td>读写类型</td>
    <td>如果是只读，那么意味着服务端属性设置接口针对于此测点是不可用状态，发生调用时会返回对应的错误码。</td>
    <td>-</td>
  </tr>
  <tr>
    <td>描述</td>
    <td></td>
    <td></td>
  </tr>
</table>


### 设置服务
服务页面中的配置信息如下：
<table>
  <tr>
    <th>参数</th>
    <th>描述</th>
    <th>数据类型</th>
  </tr>
  <tr>
    <td>功能类型</td>
    <td>服务</td>
    <td>-</td>
  </tr>
  <tr>
    <td>功能名称</td>
    <td>同一产品下功能名称不能重复。</td>
    <td>支持中文、英文字母、数字和下划线</td>
  </tr>
  <tr>
    <td>标识符</td>
    <td>属性唯一标识符，在产品中具有唯一性。即 Alink JSON 格式中的identifier的值，作为设备上报该属性数据的 Key，云端根据该标识符校验是否接收数据。可包含英文、数字、下划线，如 PowerComsuption。</td>
    <td>支持英文字母、数字、中划线下划线</td>
  </tr>
  <tr>
    <td>调用方式</td>
    <td>
    - 同步：如果服务为同步调用，云端会等待设备回复，否则会调用超时。
    - 异步：异步调用是指云端执行调用后直接返回，由异步的方式获取设备的回复消息。</td>
    <td>-</td>
  </tr>
  <tr>
    <td>输入参数</td>
    <td></td>
    <td>参数的类型取决于定义的数据类型</td>
  </tr>
  <tr>
    <td>输出参数
    </td>
    <td></td>
    <td>参数的类型取决于定义的数据类型</td>
  </tr>
  <tr>
    <td>描述</td>
    <td></td>
    <td></td>
  </tr>
</table>

### 设置事件
事件页面中的配置信息如下：
<table>
  <tr>
    <th>参数</th>
    <th>描述</th>
    <th>数据类型</th>
  </tr>
  <tr>
    <td>功能类型</td>
    <td>事件</td>
    <td>-</td>
  </tr>
  <tr>
    <td>功能名称</td>
    <td>事件的名称</td>
    <td>支持中文、英文字母、数字和下划线</td>
  </tr>
  <tr>
    <td>标识符</td>
    <td>事件唯一标识符，在产品中具有唯一性。即 Alink JSON 格式中的identifier的值，作为设备上报该属性数据的 Key，云端根据该标识符校验是否接收数据。可包含英文、数字、下划线，如 PowerComsuption。</td>
    <td>支持英文字母、数字、中划线下划线</td>
  </tr>
  <tr>
    <td>事件类型</td>
    <td>-信息
    -告警
    -故障</td>
    <td>-</td>
  </tr>
  <tr>
    <td>输出参数</td>
    <td>事件允许自定义一些参数携带在此次事件中，参数的个数受限为100个。参数的类型请参与数据类型章节。</td>
    <td>-</td>
  </tr>
  <tr>
    <td>描述</td>
    <td>对改事件的具体说明</td>
    <td></td>
  </tr>
</table>


## 第三步：添加标签
标签描述了同一产品下，所有模型实例所具有的共性信息。

1. 在EnOS控制台中选择 **接入管理>模型管理**。
2. 点击需要添加标签的模型后的 **查看**，在标签信息处点击 **编辑** 来添加标签。
